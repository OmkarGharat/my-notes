<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Private Knowledge Base</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Private Knowledge Base</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"915076ae2ce8b62b29c9201ff4626bf9611ea104b587c5f3fd4ea60dab4cb344e88adacaa7867fb6f76f01b00a25af89729d4cef7d5036822b5c38cedbf3a632fe08b83d958da99ab896673a4aa53b0ce16b93d4c0b11c9b43759d6032f0bcf62e58cda20d06426c6fb0280ec179f837d948d50f20abb63d3261e0c3e7fb303dc2d481f50cc195774acf41d3136c189b9baa72a8aa1fad2d39338c4da135c0b2eb1928a7e801d9a88dd874fd31d92831f56adcb0e0edc60c731354d38fd8bce29cabd6436019c81404b2fb82d1930facafa62c9d5974d452fa5f50fff3fd5679e3fdeba4eeb8159fdd574b904dfe5965fed578aca580a65a97c953ddfd31ea42179d83ae97dfff8becd5d08e901d10c0500cccf3529f6f5edcf4299ceb973ff2c36cdf0bf3cd45bd4f225e16607e64b469262d95323d50de4331e3e17a445be0788b0d228592e3d3c8468689638f2f04062630c3c4bb723b0533a27d58f08bc46c201f956fa8193a754c4aeaea938e1595a6350b15c9f6197f3a532ae6f373e63c06fbc22230de4522344793d44dcac9c17d0d3b5968503620869d96018f37472f95006f4eeb7ac8832948d4f76d7bf4fca02fa72f7995372c90e369b60ffdb3c01085f27c60adf194ccf993ec02a938050152bc635c599677dc9fdd24265c6349537ac5c82d12215cf1aea1c8e3be2f35aff6aa9245f735f36d60b968e02545b9660b6ae39d7e1b5d5e4794ea51522076f3d6de9d7b0ff1962f076209a85c29a8792c00f58ec5e09686150fed3e129ff84ef9e6d10063edce81582ed5fab7ad81d53a8799b9b42f8fa0ace02bff03a6d42483b8f5c35443fa38c20782f3b0194552fe2b2c8f58a52d93e84e3dc9d34b705fd37fa575ead1a5ad0f90ac750e7153a7aa0a949826d2b410ec3aefca25ad1102678c01e5bacfe0ee042a98a142188d414e8265df6fa86c7c094f4198135250c913cb5f8820345a6f97d20426b7f1ecdf6d8da94fbb5ef05d3af6a2c919f28742103799caf8abacf655cfa1e18fe9e85d13c19c0405254e4dc21357b340f3c63cbe011ce605106d19dc296cb65f608cb6658692c93c17d4c46d4ddd3f239b03e65f08fe94bad9d66920ffed350319ac4779e262c850d56c65c3428543eaf6f1af481c64df1dd258462a977b76dc3d19033a9889d55440589105562a7a2389ecb162314b47d7a5e800b30927c330b4e313c17066641749786dd9b9bd6a3bd12ddbc4a55b28d01e956058c3264deb137b244de3a387e25327136a009359fafb53ecc19b4fdb1c7a297e6c3bf6c4be7812892e3a5811bd1b4634ea27a0f4e2904e7f784ab7f37ec388fe3fea4ed7f317c03114d398d12439e827b70542befef3be11d60d3810161422087f281289fef1b7fb37d02ca66e717fbe447d44a5603657dd8bffc6f3c54e9c83f3b57ffd0324e2e0e139088b8cca7a961257e39b6585d946e4696fe2ca78558c4c593d4dc4a129c688baefa462f5238f883d3a166001f53fa8829bac8cf9f7aa380ef8623df199c68e907c21d51b0b2eb2d8a65429c540e90369cb5131829e6e548575443a1be9129532b6082c13b47f6133b24736295c7d9c1131d3d7d90d74f9dccf11acfbe482ba6e0fa1272291c5e14b3a4061c3bf28fb1e8cc47e3c17646e62543611558a26b8047dbd439496bc3de3b1a230c19b35c9638bec26c6d088565b2d66e6dd696d7453a7c04cb8d2ad380f3507969716a447f325bb215f45d1fc9ee903ab614f7b2f1b91e1d929d2c0b245236154ec6b96d879a4ef88fd6edcf777d0b0e6e9fe3927916df152e723b35166a0766e4cfec4f81224c9ce86c6e224e129836bcbb166f729e02d969ec3ff6e7a80f62284e69a7694aaf0186b2f8471fb67878dcf7d56e1f9816a98ff5966980ebb0a5256ead3be6fa0989d22fbebd7ce8e6561c39bcb0168e1d2b597bb5ecb6b0cc1a596385fa3ab8d483f7a444cf2bd8f1c0dd982e0c61d0dd55ba15aecb3f62ef3fa63ed5244cc33969c5a22d71507fadfe02ebaea6bfa148494d4b8497eadcf8857e7c0bb0812a04a93405397ef9738084ea8b85d2c0149c163dd79b98de20aae4f20938a1e656ed5a076cc11261e7ecdf62ef93a119165a81d3f3b739122f9abc232777d51d694735c030e5abf0ea459391f9c9898b629628cb47782ed49fa09abc61a196361c22e4481e48a83019c83b333ff8f9d82f71847b3565935f5086ea2faa68f9f9dd3a36eb8fc9b913d8fdeac415f55cdcd6d5167d91851a6caca4357d406c781cc3314aba704723eeb9ad44bed869cfc79f22ba3c334b6c4b35d18dc2bd9940af2470391783ca8bd67195c4ac888d6a4600d3bee4e1e1a31b7c231168533b263ec9a32632095a9263f1a52a6b1b522cbc13557dda6a13a136eb0592c9480ecf26b92de5421fb6d673f6fd197ac06916c40b64d19cd5dea00c819547b833dc6ab7e60de4460a3091e5cfb5390d956437157b6bf4f231d94db016fabc3191cc53cf350e121378b426b69a2590d42c3c56e86660a4fc24b15d3af59a89b991e581ee7446c392bd07df110887a482182bff23f5b83d8c1e2d19c4ea10a892a83dea5d767923940b3c35cd6d4b85fcdb921fa443033e3c90dc423e3ed53e3c3497dd95da83d55afb8764683baa0ae22ecd1369624d49a738768e384cd331166ca4a4af11318c5f2963081493187fc54184e063287e32aa1d495d7624a2e1a8b1aa557cc21416bdbf6df9ce9bffb16ffe3329c3ff2d6c5c495ebb75e1b09544ff6b554785981f408a04003cbd2f3bc21834feefb54f3056ccab3942a43b111d391ca49f5e6ba8ae31af95c4b86e0d56461e127fbf65e5b778cbafef02001d5d28f3a279e764465a043470c541d0d4124fb9092f2841d6cc5b68addc1ce114e8d1e4802a65f1a7edb8c93dbf2f9a5e4c4b75f7a963ca4108c81629a3ecd2114a8aa17ff8c92d2a7d3ce58680cac509096ee87a3208897bb2644ecc0f7049186f87382601a47bb38949e223b6bb19e44a17cf984f408806b1f8de644f735a69d3184f01fb5b2f476b97c062e41231b6ecf98a9df75e80a953f99d0ab85f90f88042f33284819535802713a82926115110af74b905e0b62524cabf4335202a488e7b943dca5bf0857177b8873876a05489ee1ee23babf2232cf5b1bb46485eea8788df42cb49da2743700e0e4ff42c16381e54d72e6db8fc8da79d63d3498d7c02d83d434be171b787ec5e686601145ccf0e9e98119de9e8aa093963e9e485532ef473091819b1c95ed5ae95423f5b520a7984619ffc02a52613c7996e2cfdde7587b1a42c193e4b8d11fc4674280733b25f6a9f18a824de08360b2d973c8e88d6ec389db80e01d6eca146c84bb402e7b297a9f7b7576f7b2bbb8662c589f0ed81dd4631021c94107c491d062b84bc4b33f91edbb5e2e755f2e4c4975bce89cc7b68b6904450105952fc0299d98582505c91288498ccd81dac84ef945b9551642b6818df0f478bb65f4130eb7a46f5e92b0b96e9b0a0946f533819e45f216861d6eb4dca3b1ff14fb43040329657cddcd8ee38d800ec1bc3f564f032c1a818b49948a7b8470e22ced2b70433094a849545a47930917ea49b82b940cd19caa05768f1e22e78cec77bd4e5b7fa04daa688fbed3d5115bf3d39b77bc194c6b946b8b4095077fc57c15790269976ac3c0ae6e91145abe40ac4d9181177c4c98a008837f200e90e37985a2999a55fee20c75d62fa38ddab7955fa584e04c9d3f95fd49e9e2bcf24cc69082ce2623f7877abb71e4d90907daf108f2447ec4be19c8820c11dba884503b2dbaee1b89a8addd8b822669d6241298c5b902201a017be4cd4fc6d32dd1bbc1fff15901e48b6f954ff5b39cd0b652734f7c0e906d5798670ceafa9d245b1e164e4875ead6314735da368b52d8983110ba9c48a2b002b9ae1959bc0e5656524dc200a77fa56fba81b696ff52aeaa2d9211274aea66f55c35f4c1eefa1a2301413ad0a5a4738e22ff2fb04540a8331fb3d63895a8b5c458688afa9570738b1e9a6bf95c2fc17063e70a63ca5b8ffafe29bf649ee546725a23d89575a559418c5e0d0ae0b36c8744d7b42c1cd3b99ffb3fa115634d40a406ca386844c5c1b17d2f7cb14eb5d10de9bbd141723024c3e13c90dec74f35d2f03b3158c2d5d35d5de5363b3a2917260cc245fbf94024b8346ebf9e3fbb64d1d4fefda0d4bdea62b59d83985f7c6dec46571d269a2a44b4974bc5c2380386d162ccf502838ac1566089bf3e5238a58324eff6f3411c21352d22d800e79c9f89a8ea2b4e81ac91c1fa7ff70b6b557cf536a31874dda495977aeadf19bf444d0c7b0c1a78ef2fcdb7fc38d22072204b39f7f33070594c807881688718c2376b525d20d8c995f1f1ad3237a7cbf9c237037ccfb544ea6d6f2651c5a9c8eb9163ba2664a3656250f8f4b02379a14fb5b371e5e06d583778f80abcd0d62067dd328b3184a0b7edef1aaf2483036324aa9d1efa5ec0435faa0d3f64080cf7096be2a9f039c00b38830918607392b88f1b259188586c3bff18ae93108d8437ba1c1b70a9c7987a38aa79726bc3fd5a7197b48a72a82c54bc8a1c7eb8e167d890fb212161c03fc49ca9b2a50a17306272a84fba4fbc6f239530b309b08bfe0bcbf18863a5951cbbb24517d1fec0b33a0d47ead6499afd33ef74c42b909302d4f41ab7bf5eada61a0f9f118f9c9ad249102d50a1e74b598f74bac837062a8942be63ced79482f1d81010f97330933bf3d588c455440c69d15d34a2c416e249eb1c4880c54e1478f4654fbdac69b8b3ada8422ef3fde7ea8e0528d5cd16591ddf7d937674888f1be5c9761912c5f9cd22fc188061d8af7f9fd3896ab5edcaa6c61082a5106d59a6f07c2419c91775db54c149495363a2647addbe74a7ad162a78aee378a8f061eaee03f0405cdac71befbd920c2e15e9c11c7b3e996aaa4297136cfa467aead95550e5c0a30b1507c0c22a781508b94b1c58e95e33a04fd64c11a9c37e956bcf82db612d7c63490ff9a33ea66fb34c517464cecaa619257e5667d71860a678abaa6bcf64a399a3af7ba6575ba3d0f1996c20b1976090eac06b01d0dc365371689b78602e10f1c2892c5dc75ffba982c9f886a8f7add26447c0f97b6f69d06e33b15cf9a9b3ece6b9f61d48bd3244d9855698886d6cd462153e059be0df67c71c11aa9515a9b01f8c09b49ac90526045f8b102b2cd4a3bac8038b89d7621e432cdae678f269e918d55f5352188b7ae65903aa957b198e6dea60f49975c480a7f0e26f5c53c5fbb928a33568abfbf1b911c1aae8932b5e6c5db946f376329879654740a447eecdcdd97bf924cacee42b71947c7cf31682d49c2a226c580aad88b27f0f1ae16c8f23fc4e7089f465fddef94c7faae2fe0eace10590dc2cf1bfa33991134f5bdc20ab491d9b4418c7796c8c45af635da5a2f16a08223128885a1cb0d9abe19b5616f8d2d59623b4a99420896cf8db6b085831b03423b8804a6f937fcc0818fdddb37f0cddc26d3b091901b1560e33045450b8b90ce7115d9c63340aecdf8b5db4f162982786049fec2c0646595d4105e876428111c766ef1efd6a0bc1ebd7bf85bf5aef61d98d54386dc2cf78e4dc471437b097eed4ad63d83469a2de73b691aa722f666ab0c88ad2dcef5b044cfe407db570f5cfa41f208f8964b63b79fedf409566cb25f6abce314286d4e5b1f46d4997d2f984a392e942c2b35952da2b0df071c10cdcc297df683ce6282d562019f47e298150128d56c05aeed6045018b2a1c31ecf5cb8b7cfd4dec28f1a0321821e5a80efd920b311d53071d72871479343d39f75c5130570e05d5f83939e2626510fbe4b5881baf8b88f490c99c19d6bfbf922711917150070f68b1f81c810eb02b0a0642c871d2c996eb0114a6b36a321942b8f43638c6a1f5905f2a425a97aff2dbea34190adbda338bf8f3621783887be2fbb5ea74d5d38350b43ddbf6101e7f31a6bce52750b61e172fc595b4ad677fc78c1231bf6ca4e3e810e48a604161da973802bc1f416be1f2c9bf9d287df1bbaba83a61b480522f62a14132fb3836ee75b2653fcb4702d2c66886241b05d25e4ad16f690637f1a299adceba5ea047c95a221351cff8505032be6c03c485c5dbab50a2206b2bd2ff93a450f68812eb96ae5d31cfda00b902a659f9f51845193f78ef2d37730e2db2119dae81db0ced1b17b129b1e99a57aad2010096baee233689a1c20dffc51558efb4eefa7c2dd2abfb0146324ab10c325d11a535dadc88fd0a2a8d23bcbd937e40131bc4085a769598ab0d68fcfd211f0436b2e7036ba21d18e3c8396db80b27da3ab4296ad5fa3ae2d8d81fc279d2a9a84e94215a7bf761161ff920022af5d1323e4a853837d3604611600641f00fe3cb066c46701a40d9809752e17859adfd89d20656de6ba3b2b7dc8dfb69c5bd20b9f97cbbae73c84192b101336c152cab249e7226add1be9d772d8ea42fca372962975b8453ee323d500c6acdced4737d1d4cc06dac2c6d3e55a52db5f54bf268ef757ddda92cb2a08f83092e0fa2365cba135823c63c4583f036578d85a7f1b10113d6602c9e58134edebb2dc0dd24ff8b8a8de95c2ef02080641b0e72d7758d3939a8744fab8f95736b1a1cd8179cbfa9619339cc908cf46c2e703b139d21cbba7ce8d4dc223d5b3d8c5dbcd011bf2061a2ab6927c22fd7fffb7841ed95689edc552fc1fb68b2f3b7719b9b041319344fd3b241529efbb1a48f61fe6c0aea547cf5710784e65337cc4b60f2049dbd500b5eab2f4d87fb52b09b3d3cc6b27b30ae2ec4ca81984f20eb232987938da6e9fdd3231bf69132ba766aa0050c5d730935238bce2402214d3ac7e4c2c71a017bbf28c5b78df8697cb02f75b56ee2bdf44a47ed2e612f75f84d6d16e03e5993a73cf0a13b89a62cc69c09184a4d058258292db48cb775281e732888016a0c3b3239d06e0c7f46d03a32320f40af75c9ad756b495156f96330e956395cf7e15aeda292db27b5b5d8af661e8c5a18a096cfc0ff21a190cbe21746a8cf83e7542f62f5bee779f647693b2f0303a84fef616d5de401d23f790d1a07b1574465af909ad9f27aa582a352fb3b444ec95b09a04dd8667ec5648665a736be5ba22677c199fa76d1224c5cbe44bf554df525413f92922078cdf69c718bcf11c8dbc2fc1f02db074132eebf8ba30df0478e2d50bd7192f7c1051b59eab22985385b420b4c61f4277315ce61ee6f0cfe460f3f4292167fd37b2bc77889bfb46580b958d0b577b4a8af65487e4652faeb814b3221c5e5d154f23b96b149bb1e68e8144ca7538e1aab5e39c0e8269bb997c637f231a303cf1aa716441ab2633f19d430aa50c5b7f543b477b1a21fb96923eda17a0a801f42ddc7449c58749d863897a92686ca6e04f5f46d9d06573c217758a1ad716df551b5e8036725339ed82b7ce2e44a0cdd373b4ec9ff80b0d97f601e80ff88906a44ad749e2aa5ba4629fc21e4c1fa553b9482fdf2011bea101554cde42717ea3f09d45bc38f63666084913f929e3132b5af583fea4713d2787e6a383c47507a20d0b9b3b1c3d93b8bde32077fa44ddb61c395ef360b9498f0ef91bf8ca425a8a56b738430868ebffeda29d8b82ec93f9c906ca1cb2f1954cc64a762e604cceab5a8bf1b40700f449f7a5342113b15026cddec01ce89aa9b1cac84d0348f05c215e355b67c4b68e41274f8d21207c747402b590cc23539af7a9f0e18241dda4fa4303fb6ba4e2360974a91005670f84bc34b958d670f3bddb68fc95a480a09fb4797a7b578f06b3d3fdb7815302213103efa221ed0e58a4e8c9545b7c0972d3b5de196a97f096d46363b78373aecbc794f3d54944384e2b249dd80f7bb06894da3c18d9a3e06ea40ea4aefaa6b6f91b6b52025b30429d24bc5777f920c0c7e3f0d996d7218f2b65e98452a4fba58683b2b7c15d39cc33709543d552925a029d869731333c0d292519b3f3bb830642ecd6e2bf01e620be678bf550b6a0d64139abb768cc656d3fdb482dd97e0be5c2bb8210cff24388ffe2100c285fbeb51a21cbe5e054d75e98f0d8ed3a333f7d49c878eaf14cdf4f1aa931af5c70813270bf9940902cce5f8ffeff96f7bd24f4c0728596700204c529738f4724866f7bfede90e8a526e1ad8601a97294e02700882a806dfa2aee3cb757029f736378182ebcbe74ba88cf5afae7fbda77012b90b389a6e1ffa605656f9e6f07fc966cdc773ccd8666c56b60b1bbf58d6b4480b046c407386a75df64865f8a054ab31d7b90385f35a8c8a8168fdb8a462bb717b7106b07a0f4af92066d6552350ec79848681dcdb15183f39b7bb6b320a5b636b9518380cba03ac0a9cd46f560893d0749d5835796e7a8d19e3a8888d3ff1a35bbef892f70b2e274861905b1c7d629d195af122c068629bfa53e9dee73bb856369212c74ca6f53c7152f3d8db7756fce19d6f110e5f476c1b732e2ddb984fccc2ab5edab4d5afaf7c57566b1b43e4b5fe6b026c8f85be80311303d931c3222b17a7617d76fdf7f31a60db95513c67618b36866ee3db335bdb2e2790b8402bf6b74384cbc369ec2c11bb94cfd6ff83a00e1339a7552a3531c7f61ae4c3356fed10e966bab445ab74dda334e6fd48c3506f22c49398aacb3ce9c8b1e6292b8fb806712a0a9f109ac140dc92dac0bdcb8ce221cbabc7cf61099a488f2cb3d0b7946cc5c9361331f3196df7aa0069a1c2d59144e738bf85bdab314132b9b0ec8989db6a9cef30c90d7730656865fdfc1057a487faecb37998879e6d983b9c325f8a32c8bf976445e4a72c550e2393ec7e60058fe2eb406f230849c8db4fdbbf9c465fd185cf9f02409d002c6a62fa527025ed86ce745352dd72ce0a4674db2a5069d3cebb93d4ab16b0a01da9a1c76eafe966f6e1085281d14a3339619463c664eef96d6e3a415a973d42f41b2d230f91bebf07f5161ffa848b24f0d1b27f50f8fbc9ed1a835acc0075cea2200660d1c3f5f1a8c9032807223b1b009cd0a1a2eb357c12bb1b1fe7a48010ef2bc50bc5200ddf9d51cc97d2ba567e5081567f690d2b132cce5d9d92dcb1f7dd130c3b5d9902e949cf8d33a78299179c070277df8cb54c7f8f3a4017f7ef1084b54632e0dd2a9602b77c1d700b9db5a36583507ed9dacb09716f7c673fe28c9e55765bd86e3e4b179316cff94b9a6bc17db71a09b1514d3f93c2858137b297119aa069834ee5e61ce6827693e36b5e23e46421a7335f71af596796325fb4249586485b2a3685635c2d0ad64bc79d276aba9959f567c46b6009734864135af08f08426c1cbc323531911fb38a36ca55546f8fd3057ed7ef58a50eee69d4b01a7a83ac1503a701ee36115dbe3b628dc0f928d59db0f3913225a4ece1442e5a6ae92c2c7ec55737bcd899edb750bd012fb0a91cfd815093776b5ca7bd163f90cba7b7ce3b90fb938a5cc94e93f1805ff26832ec9f62ea4d580060b7f2e386901c98da607515ef30de63a908c8cf110f5beba1ff5aa52383f68427b7f673c894096d18d4e74714140741f5eb233e6e62e22380eb6c2868c1a2112ff88a3d626f123ac2abe38e9878dcc0e957f91f706bba227633ded006f45201ec4c69d5940d63bef170ddf66e16a08f3de67d177e9dbf5eecb4293612ba5207684903f430926600b7be95bc86f658a009e13dc35cc8fe6f9d65ccf6fb9525c3dcf4c03076c8f65fdd2af2a7d85a3f209fe14f239c4d595749eb2c1bd80308e5e7ab4a207e49b8372ac5edecef7de10096894c34e1c7d11e5f74cdf19c11e63f3dac2ff255ca0e83dcb7302a9757bb212c9fecf90a46c1d29dac0bd0510ce7a191e744ba5cc4a19b68ff2450738a904c05e5f0d5dd20829d192be32dc6bc209ae0a2baa5a643bffac73346ebfe272c31bc58a598355db6c1faac08ad1b43840d54d8f02de83ddaed67c23c82c1f16d34f588ae85eb87e624e8f82c25d81be9023e2902eb2242fe4fdea929826f10756850070072bd225b60ac62459a9d1f8cbc2cf13817a1d6b16b5ba1c105746559bad5d2408b79f4a5306c9ec2252ad5d9deabb544e5caaeb94ef94ca312173397b6010c571731e393a9ecf346d27c6d4367f630f3477746c651571f294be6e56004a1b048dac17a0844c9c6fd48dc4052545e5bff38d4e7fb240e134414c5aff90a8d64d20e89db2930e05d502457e79311439abc53ac4775c8fafcbc3f77a018dd7d9a0fcfa57f9c37a554e5085319fa07b8cb52f4337f0d9c6fa503dd30b3d1bd84f93679e91d00b17e5dba160915f049cf00a2cc0bc93b4fb2bff3aab699de035d72d91f67e2a37cd0260d36eeec6d6d7708b268a65191df81faaa51c35c7f3fd40b4d13336d237df3c006f2d84f055c554429d811d8d8b57c6e048f98a1c97323c13f5a4ad4fb9933a4a4e18629398ce4e7f3c2c0e455c5aaa1824578ce893ba73eacbb17d721872f2251b668ee3bcf614910e8c44bdfccd73fbf15701f16dafca1a64f6ee367e0479ca5f2052d9f17321366a9ae2ce42d88862a735fcefb5aaae284a7093bf027580d49d8cda0d2bc1a8385308ee58e41e167a8bb8be35cf28c45da78b9738cfd91a87e941ee7aad186deaed75e8487bf4561a1e145401965841175617588c3dbcc367b846d66356a74b0241fefbf64f0ed1495e73e1b2afcb84d2cd8e18ad5c60de5e8249fa29a2693d3f2e2aac2003faf57034e16054ed9c3a24e957b33bd3277faaf5876b97d7abefb1fe271c1d80bbb4adb277be7bb41c56894f1355d1d46abf6cdefdb09a7383b8f5f94698b0097977433989145da0e28437287a39e824489993c31ae1a1b8c82e7729ced5b51d6313888eb1650dcd4c64ce2156601774823e616a3439b65961891cc4d4186a03a8d15b7ca7b61abaa7b62a6519832c7c0655afd2496a9cb0bd4ef68f1631347ed3c332e577fd5ee6c1645645ee46156527dffdc446f28d8187d3ea371e0a494f6777746a6652c3ba11ee52d3cb12bf28c843d49997261e75dba87714ebfc92b2e85554a052697b748d174b3147899809bf6cb5dd13835a4fdd6751d14d62227b8a4e322dffc499776a8d6ffb28a23ecf6dbd1cd6c6b6eb4524dfd3e1a6ed33987194a444a7838aaf8f5cbef851a3d1d7f937e1bd4588ae8935b36974dab40fcb0dfdb09ca12c083c7b5d4395b43a8c898642872370a3b3e4e4d26a6e0d61618a1f4e2084ad36c0247ff31a818e62ccc0f2d18bee3201a6a231c7eb208f71e384ee5bed5f669495c8e52005784f38b50a506eadb930652e27109809e00a2a2d7b7f596cc6c51f77c7bff8e50ad5567ec73aebbd5b7a67a7d7bdbfb897ae7a4e7bf9c3301d1b779eb1cc232298c4f9691c4edcc0c26e8b02879f627e510d03b230671a030a18c929c4b108a61dea5a1afac9e345ca17822e010da9da6aa4d493b0f6926b0bc20e7fd8c199c70d3d4bd4309646f7b704a31400691305db5f56151aeb41de1e788af80c7e8fda102b9411877195bbd81f50666c0d077c3611df49e3d4210c595917897f2caad6ecacc93f0a29bf0d5eb71b2ae879fa7a1976dfcfdd505a761ae9840233f7d32592995c5cc6aa3f66e72e97f6c5e97d281ad303f84ab04635b54d875d4514e678c0aaf6db4df8fc47d1864e666d6de2a944159b8534623972abe22619f572304b895450dd753a8e4a95ea6266a7a65b0aae9b303acb7aeccde0f82ec99b6621583192fec797c0006998e1fb5445516724ece33295c11dad8be6bda171e4e6f0c7df87552ea5e307cc8469435ff45740833e7dfc168d986ebf3e3ccfd3820f9a3d931c050250d018f1268a9fe338b475444a4a4b1ffd61ee74bf47cdd09dd42b2c040e7b5767e517a3347eee8939d4839e9df789ef12dc8d1b616b50f60e43487b758562e396fa2bbc01e7ae4f35eaf2b81578356cb678c17cf20c634a3f4c1b18518ae1926cf123c801afb465c4b6c7047e91a62b6a71cc86be08f99a2e0e14bd4c59975c43f5a612622828402f2afb959370c5013b19f4f33d21616772072cc52c6fe88747ccb06c565600fe16528d21adb15c9d52ae9bbdce9284711c22e508e651fbee1e97dfac7852a37f9f186db1e8e19cd708529c771d59a9cf32b7d0335751a61743801899fdb8386eb8e89e5bcd1f2ff50f4b0703184f0d93c3ccc6297be35769c75108dd8beee2d1031d64055593ad37fb252c832369e291769c4c87c606bbb0dbe9003cd7b49207395f28db4ea3564f0861e396136617f29f377206e9447ce1552cc36ea4f90ad82baa0004e22936ba3635b7cc99aee218542eca61090244d1eb0734fdad7f2cc53dd54d5786f92feb4cd0b057fe98a0c5fa720dec1d5707a62655c347fdb452757a1151858600239747a806ef927db0665783874b44a470eeb8fc91c8038f158380a28a76c01823bad9364ac6826a3405a974c4361a20894ebb3ca35eda0696dcc0d9f3f3ca1588331e67ca9dcc11f2d606ef86c3c9407ee6b962b6cc3f8808ffed34c83d0424085c44b292c135879d0aec3146efa7fbd0e13b4e02405f118fdcd761e5c5081c4c8c2465ea447d53536134776d8a7cec5a49c878d23f1da9f6b62744135226f6e340c54777540e48d428721cadfae34e2a0f5cc1053600860ee3b99bc9c3e2a265e5d7a1b9ed6c1afa0324e00b81f69c5abd5a154d6c9f0d4743c08570ec038f90e67c07e648b1ae8bc71026f68d7d97ad7958d789d763eb6b5892f8f05179f6d7c64edf88b8e0f832780384450ef237ecfd7bf6ec887bdcc173cebfcfa0afedde11d7576fb691b3d84d82546c0040f81b6d315aeada810ff47de90e147e7ad2917d6da5e853ceb9b3b0428cf5f4a0b0f4d1527b84629b46596eb71307a0ed8aa37ce3924900baf8d303ccb30675f614b853b6c8cee87fefc086f8d18c2b72fb34e96e1648cd01c83bc32ab867d65f6909da117defa047b755f241f89851e0410c5a105f844de82b070cb002d5e79b071d84b4320a65beb9251492db9568061cdbe0c7dbc85a13ba1f248a840b9a2e6f7aae8e5ffa9d4e20ae0a16f0ced86717753127eb5d1ca3860c974a01bcac1bff0c6b8e9ba88a66194c247739e11c372d7874dd691d5262647c746601def31bfd0a5d2af570e9c539e8c5e8473f8790f525afae2a72bad4b87828f6171c2cecdd2df219809e26861cc28f69d96ddb33efae6628a5f92fe94fbfc02d05ec91c9579511805eca0f9f7095da9dd3f0c1a951e59a20bf582dbc2fde6c6161aaa2d6ec32f30617bfa5ce61fed6f799de6a4d0a84b5c89581135a023d4479b2ef25a37ad054b995b8cb2c37e96153eecebce126ec023b78def442d246863812d1f714718d4dad9244b1d3ebe632b37b8a32a512b85321c0956f12afb95f7a1dfaf82f1a36eab436a4d52058cc33d039e8ee275c8988918f602cc72ff35d5ec3626fef8a86f2c526fc768cf980dabd42bbc1f85a06a0eae2fc89be89f333af0a468c2255d971946eb55dd448192d3209bb974642a144e20c7b7435deafc26f5a0f4c5806923c598e2b56cb4f585319649344253f7a4d9e867712f71ae1ce869d0601f0880d62f782539e231eb140c471583a336c62b8b124c44d1f21db94494c8c0b99fc35918483ecae4f3207b7f5468fc100c6d0a0bb9fec18432fd2af90fb3f331f44ed66a3de633ea28315c0986e024b3b6cae143871e462c0742d5d3542988c18f80c35ac0725cb19158a2d6aa9886ee31b09f63cbae157cc43e67034a17898b2d84da2501a2b1c7bac7a38ab5599dcb74b152072f25cd06e3c56e9b13c9c63a51bf0481ee585048ac34f1a461abf7e95f3bf3835ddcca4e87eaac6414caa6b0061b477c9c452871c73938e83df27eb1056639e9c9d40533f3d3e02c38229273fd804105ac88a2cd926a063ee1ebe3a011a2ebb7cbffed7bd2bc32caa2ac8b1bea97e32aca66ae7b720d04a10915cb37b9e132fec94e1d67ef2768070fafe950d3013c23c6db0be57b9b3b0ab54d9e95cdf2429d079df08173f95bafc034c4573fd2f5a150476a471d538b53cabd7c339538da91f626f333ec477867e05d6b865dde0821cce262d523006e3b3284a2de9fb199e153d45e4079c481f747cec611ff5071e168e6faa7de58f14e9702d230ee00a012e5f809add9288e84a8d3f06e862ea232d2b0c2720e3c3bc6372389d206f4b05195b5c81ff899d1d1ac92757fe4a5daf0a622fc45738bd0c08aeae8c170541102299013e61798c57ee6ae004229bf7c2bb6d4de973ddfe8f8cf4447f66345bfe298fd6b4aae2058db0004a5e4143cc21f4f134f382ec334ee742ad5176163de559ece830d18cd1039f7b02e51a39241899870401cb5d943e6de24690d42a4d03fcec54dd189bf902af35072cf4bb67dd93fa75688422a12f439331340e1a1bcfe51f4f03f8e07e699e8319c2fa829d85a0ac0545fa8363455227b8eab4d5b15762b82a37f83b88170fca665aa07a54977f8e8d37953b9192ce93f113487c4499dfbced7dc2fb1c07d6c38023eae2d33b58c667a6595405adea60f516253785e57d333a8674baddcff79e688736e8001b49d8ae1b95ce40262176b9894131dc56f990c834533f34cdff69d34a271239c2cb8814862cf44fa4dd4334f8ecff3b3ce84948673a0ed7bab632becfb35160f5f1dc229d03ba6ab19092bd9b128e7ab5bf40d6b14a6246d87b6a8744aac46fde3418f877ca0d601b236b03a7dadbf1faff22c657c7b21ce16108791e85048ebd142f95b2ab40f1f008fc77d27d7ea9ee2125ed205e3a97a5b90aaa02fdda4c2da97a1b10c8b390e90282f17e423386ad30224e3c2a1f0b057e206e4652258d410c0855010a29a2063b48d35df2dce4df209e55886a89c179e445140fbc77ebc4e039d6e315325a80d04edc9150c12724203d9012567e2e5490953e87a16bde937f0bca857b68658c9c2c70e5f3f5e6c7d702c418b2cb3672622eb73840383bc92124606dbd52f9862aadaea8ab800b48998a00cb102178cb5a88d9fc96693ba76a7a825677e255a43e9c741716114160e96784e2a19e2cb28169f951cd390d3c9ddfaae0bc5fefaa7ba4037416c21cac66c0af23f7f145bcc539f39035c64ea755fca442b30b5a8a7a7bdc0182e3ce01ff14b377d0b5d77686e7419d389da4ff16cfcf1297678334685475b1d82765644cd1ea62dc1bc0926023f81a7f560e7dd3dcdb90cc602a7536f5555374d43de7bb4e325d5bdf18b0cf5d487094f67c267da369b5d5d814f5261eb35cb7657675625dd48b6003e5f917a6155caf5ada456553214e7fe23de3e614d9e35ace11f809d9d49e2315ee644ccf3990879f905e22692f458f0810ed4cbcbb3478501c66cb9b974809a2cd5121fdf213135cc96c759d4e0b3ed7f9063ee9a3245098489d9aaefe2bbac8320c179099dc97729dc7ca80dc2172550157d2065083168a41228ae8249a876e30f0c4613d67abc4198fd48e2943ff8127262a3b30676b7d0b8920b6d743016d02f5abfd646fd7de96e21f20a1197196e7d0ae8734592b2b0710788d0a815454fd7fa08c7db66748fc952f379de66cb342bd7d0e0fd93f0f3b37fe98857578f8d6b9e2cfa3f646e853854d43008ee5774af4758e06bdc503b012b08778b9d2abdbf0795b96bb08b312c0b2556979fc53fb746fd0f8320c3474a81ac622857fec41502bf4ff9efa0a137b771dffb63a1d778499d703d0d48f8eafd4b97e887cb546b64d6c355cabff97e4c5f52135e1554f82e2abd7bcd923d0ea46c83a75cce60ad63bb6f3a2468dde65f0eaba6da30ba76a71278b548abf9edf2bc82b9666d111500654180eadabcb446db5c669ef0a0ef7027a4f4d795ce8d0bdb5aba0a2e88220f569e942e250090bb18314920f59b85374ab8b2cc5e07352c7cc2f67ca2106875d1382681c3de74f585cd7718ee1ac8a51ac9212798a984adb84e432bff8034e963303af3da84ffbc04ae80eacc6d4b13880f9459ecdd5fb328d04599c7d12f0b0502a667d3fa28dca840382f4e4b39d8ea16102d5ef60214e4a4b8ba99fed679b388794a483cfae0caed433c7c6f6d71ff5e04c92082e57c9c1f5209b142e71ceb0f7c7d19f3196a234e7ad4f7d47ee01b87fe32c01f4e018b7e1e92464ee7e1fd214aae7c7184137af6ba80aaf65e6fc060070068ecf260199b7fbe38580d37f285c3c783bc33e6cd861b8c405fb0ebe931666ea218cc711f817827e7d9c3b383000a7528783194f6d5c8f048b2fb1795ec6542bccd79946254022671104588f63d6ef5a50f461088134c04c16297b2535e18a20804bbe9d5fea9c059c88a00477707f1c425e6eaf1063265db6b8b736a8cbf0ac809a7a7c57a331958a15207aa47176b4d4d0f75471956dcfd4c7e79f5d5438ae794f325ca97a918100995088281e669a526f43007e2a69969b77841205d0f8d1d2f4940177f23025f7afca111863d3bbc57e329ff7340f8c80aa74f360b3ef0fa55c777c0f98cb1e74692e74dd781c0bbd57b7200c2b8a617b74cff1db441b7d14948423b109ebfe202590e13c6f1a406642a5ee639fdde7cff3f593a1a95344b4d447b82d5c17717358d15c51468d48020a1d57fb4096c37941ba54a94bed14cc2da7a834c9c13c1a3f696463d705eb67b4d321535adede37e66460f218ef9204d4b0deb6b145684079bc9d50742a4c8d69100c8e2512d1577bfa9cb3cde7d396b95e28414f50df29bc34f5b9c4b07d1c34e0335fdc61502b461839322db5d70eb56e54193f655d6e485e1ebeec2bde4c8617342a89625402c1ba6e5db873636ec10bbd7e1f74597ec266ec9c98717a640b9247c03082c1ad84f966ea62210cd927d9710009e5120bc191c9435923a214f35ee9813e422beda2218d438eb6c568a3d490bec436d2a4889819d4552dfb0236443ea8b24eadb67d1485a1b6cc11b0fa4f551ed0f21ef3708e89ce48eb63e0ccabf6b09b01223fe92183da6aec26841f2da683dcb807125367ad05a5b8234fb9193ee055cd99800a83b6ce45a840f3768b30e84aceafe29179b0934aca4affb8389fad38d67a34fd559facf3e209c7356f264ff19718ec0ec6da9031e6ca4226f569234667040dec5f33fa8f27cf535d1b5c5dd94a61b5026e2d4fcde940665443a7949c418592bc5dd41ebded25df5cbe55da79f594a461e6e166358efaa0d6d704cdee6b65754ea41ed86d607689e5ee77918d6285a85a7990635932e025e9bb7e4686db707679640cd02a25f98ac451f6ace6540d24c853aed9b34cad199be16c220cf0a85211a4d1a7472dbfab635c415841f45b509865e84efe9f188b3edfa748d6b38c0e9133de795033c9f4aaec687f23b730f60ec5b4714523e96aadbaf88f89b84259d48069308734fa60ae89f5e4a15272f8c84d78d65cfc083424b389a7c78d9c667e9237826dcd05156b0567ffe3bae133614f9d1728d1fc394def8fa118681912ab6c9e662bb74a5d2d48d72937a7635a1b5417fa3fde93f1749a2e9a0c304c966b4e5db56671ee93b392b07fbf2b4391a9e8ff25c76d85fa45347290e1a8d66fad2295b0b17bf59b04fc876e78b6d9713768a14a0e63e6ff6282ebbd5f832dc21640416d7f5d3bb6f427a3ab309746856a2a7ba6dda2766ce7fd71176159af7959ddc357c71bb9ad82792c88d7d8067f03572572aa1ba1f48efcca73b216ae99044794c9b435e893f7e93a8f757659fb3ac346948f59eb6700fc340901f85fae386e12594380f7ebc0da62c9e8312f9fabb536a4a8a05839ef03e8f3a966011b186a864c56eeb582f7a8b7a210ef0c5133e67189fa1d87e9d3a5b0958aadf6e7c3dd69abca3f7b3436f1da3ebe41f8cdb7b7164e059ebdfd7017378947d7911e1b7b09fffac51dd6f1739af89820db8b9799ced8ddb9cba99e9babe110da1700114c2ee46574ac45e369d1c72eb5142ebc8bc9429b40a7715213cf885ac6d206b93d7b68afdaa1ba6f20ddc9880322c2e588a484cb49ced597059fa22c6295b6b03c9865856e0fc46b6ec57a974402cd967e47004e6696efe63108aea7f95404980858bd57a56941e8544807e77e1613a8fe23042251e25ea69d06852c87ecda7af4cbc21721a59a2376a9f15923a65d959fa15a3046e0a3f25fa2167dadceb22ed365e33dc406471f7568bc2fbc6e7622a0d7f7401b71b535ac191b580c2153a3def1c022e8a42a15180cc93f98ddea2c1570c0777ac9efdce51f0052c059fe1ee6b63d9228422538f1e039463095d23833d583327bc5b7de092d06c4cdc9103d5972aae9d30614e26a0620a1fce6b84dd4131716102ff83122024d469b0eab0fccbbdc0470e264453d6e1d5941c6a590c9a554723b62d9bef7f632daa34c9920e1f8057bba3fcddef65ee5efb6213a0a41cbc9205e85c01ebd85e94a95c186b81d2e05da703398cbe1ce9be8e2862bb3023531e13d1eb05056087c734772ccfaeec1f31ab2b9bb5f8d215da2ae1de48440f1ca7731b0830c8c8cbfc8a68b62500b05ffbcc7c963cedc1817067aa60ccfd4288c4d81fe33085bea96ec945207c39056cc632fbbea82f1cc6ce2f546734dc9af8f43fd436d54837b73f39c13cfac151107ffb6012868de035f04c07a5e124ef588d70c9ceae7c4b6dfec52bca23717be79e87e555b9da14a8a20e1858093ef888a53a974135403479e623aa01497cda3bf5cdddc18e06dc0921e75b94fec3e90c90c67f67633160880b190284328a046ee2c8f7a2400aecf2ddd389f0fb03c3518f6360decca31d734683d1c915d8e35a772cc23adc031834158bc9c3abb7938f64bc94a37d53ab65dc8c7a887de291d50674c3d4366e2c76fc0a4f49a97c575b18d50e80d1844d1bb82baf0b7b7d201b8005e7617825d8c89949cffd6def994825f6049eec4e2298c415c89774e4540a0ebc9d6d0f0bfa657093e1a28f6c26b732540748948ed70e511522725856097e5cd0558c43d693031aceff72022d5cd972bbcbefa19a2190180acfc80398d3c8d94661ad9f91459f2210e3e230fe5070c343cb9e83b6a2e8f40e245755821fe2664b5c42e4956b325ad691e02e8d013c2226d3955efe275c63ca360a3ee8a8beb75f40946aa43a6069de30b0ede4901404bf89ae7b03fb70c3d44808ab3a941d4dcb95b5e3c3703d296647ed8a8060fbd6adc3e9915af42542c2efda03c2f89c049fce546c591b7c4e9571ca66ceb44905b4a5fdd7bfcecf72c9483f333d10cbd1b8272abbb69c10a3595c7310211f9f8e02308e03a2b7067a2efcabe4fb5eb07560cde10885fa2dac331aa2d6d3fd419bc3bff48bc0765114840951af4725f6782ae205c085b7e899db68216226bd73f6e16ac46411578460770fccfc8462377816997ab23ee6b441355b13be5b6c621eaf9f6418b42233d7e52ca5939cb2387a1ef577256997267b5bf1801ebb719627de7800e873425b6b8714433738bf71c4e424cc898527e607192c7bdf22b0ba116dc50311f48fe5fda7da3edc41b615e433f37fe32440ae98038eb1fe7ad6a9785532ca4290dab9a996ce7a78e1bb889583ef24d070cb1bcea45a7c65fed7d5b7b782279a23f1efdf2ece3523e6497ccefb459742a405f891b64acbb63efadcc3c259a05f74b3600ffb432535778aa73474c975dc5f7043a4d9ed92a5bc5ca5455f500e2aeddcce3deb1e28140d89123cb73246b7f312db96d6a447144c38999dd90ff9633974dcb32e41802bbf21d9d95493e2b3c957dd47c9c0afe3eb85f9f14fb9f01f1558e104bc0e3ecd6070ff2e754edb1b740068b2ef7d046b0a700b6edee9213f3324307228740fc56629f6aba7744982bbc35ccc5a8a9881d06488246d5a4e1948888cc1f65547620ff380d80b0a0b1db943a22976ab68131dfd9dfc76ad21c8c57cc90007cb5b8b8f65cef89ca72fc0ce64fede6ea19744ad60ea18ef6e4682fbb53d22db5fa21b08ba6a372ed7cba330fb01de4c1da2a6d47a5257c7a59bea63de296d4b360f44ecf77e18b2d320c751a1e540708098725f46f10aa400add40d0875fa1a54c9152a39e5e2c394fc732290173f30fb5aed55f66698cef641ba4773f3c2e00bb2e25fe1289da23d3ab7eb9523d89c9782f483ea24b6a87e26dbc9b791e09c889306c3c5f9dff9e8b9e3bbe00fa8a71fb269a788319dd472b3b0f07eeb6adad987432fe4f8229aaaf84858dde4dcb47c9a73029034ee806394af87648ddca2f865747841d6768270f3e0f1fda4f3734f44942fb399963d666160c6a8f945379af503b6e4b1fa6f75444d4c72f6d2421ec638a958c39f6239f0fdaf556eb1c7765e8c4d70d3aeb1a03fb5ce131e638a44207e01f90373fb066a5d7ca0488d0f3ce65ccff48b25da3a6ee82378bf17953ee493683b8275204ad960df1ca9f5b6f51252566e31060027a59b4fdc340557cf2a75b276e8d752f2b9413f189848b68faf9ed5c94cec15c78990d293f6d822a54d5f6286bd8a513a7903ffc9c5bbaf526e6770bac8d6d0208f37e1703e6b64b734b92ca7a21c14af0e467a9bedd24dbbc14c05b52cf98700cf0bb06a8504b6ca0e225ac5143cffed58c9ae1370b5ee3e7af68df1b7e52b6375ceef8008614602e61a847121829e36a57ff0c5f5a9a8ff92f8a9d10ed00a0617c4eab460d70e7a0ab9d680791b67a3cd48e4cb00bc38d280a5d20903e1ec590c5e796ed0f36a2d1c587fe4a1c91faabf6eaaab173ba9ff426f77ac28b986a058152833abdf3cf8b5d582a0073446dcba71e999349f3a1e659db20991e9d04a395ef4cfc54e63343955ec8ed968c9c4d415b0e87bcc586084dc8aa3e1812773064eecd3f7865f7c171c4313a8aa76573f13ac2387e5ed63c65677d18a773754656fe71c7c1f198fc6264301ec0bb55a6df407bda056e0c76322546a95244a810f63ac059bf4f2693831e22c2e9bbbffea2c24bc0de930c9a01c91153f7907ca848a3a819e8d9fc48df0803e052a9e29716a6e0154f88543d0c6c9a2ed9d87a319f2fabf19d5047ecc943fef532c9c31537449c6be341c5b84ddcc6d98806d08ac30120d3ebe1d51d1cbf865e84e2064dbb0e50d92ae5aa4cf1fcc44e476bf99fa1f43b68988a9a71441c3b9e05e484768fb720790ca8c0dc1432d0db2d49bd0a451fa155e54555f9e88b26dcc7e1dbe41a025134b3533e25d50e6593961907b43d5de471e0dbd31802cbb57d34834eea3d9d78fac53179f5056c6db17d6ec0e019697062b0f0eb64367972c765ce2398800141af01d93634e3d5beb09c1973daf50ca9b69fb5e9a64b72f295d162c8c40e5c7e7496f2b65165a3d7ee51caf1fc21989dad27efc639e44b00905b5a7e4fd1f932fcd962072a6b5c1a76904800d71cecb9c5c8a3fa97f9a4773e9ff6670bb086bee86db54d5151041c8facf4e63563820e6f135320360d0e84eac73f2f33f7912c3cc843144bd2f5ced670646704a2edbf95850395d98ad7dc32675c44478481e4c800c8fd5b2a4e832b889e62fff0e54e0a6885f731a3dde0aef0a12f73c57cacb0f6570eaf1797cbf49fd1e30e7b9e2f6f56e07aa900ee441654b157fe5166d8feb645124bca7c122cf0648423ea98bcef32b472f4b33a1032dbd98b27abf449132e080c90f7703bd357bb14b29f090107a5316ad5fb07cca71e04207c08576220692dcf46b6c37931afc8c44b5fc391a272ed8817ac07a88d689004cc80b24b4c5f3662b62fa72ed1a2d2f0c8064ff095bc8471fc8daaa6865cae69b9c951ba384c96996664e596b877c5957ac14df0267df62c62633588bc4884dda8f3fdd7b5d658e3f1660882af93f85b216c5c89944bb8bbfc3d63b215f9ee6252f85f69470d4adab5feb8694cf344f94c545163bedb39d80dbb7f675d3eef11710a7ab69b09b4b27506c3aa0472c926bc564434cb987864e09935f0e74b2ad18a57ee085787557b86ae5169fd71310098bcf9987e302506319b84eac54bbe9a2aa3a476b25da338498b9e211062f863f94c0540210cd7f2de7a11e550f6655736445734771f862e903e4a8c4343dadf10cba60024c3600841ade3cd8bc626a544918218eb1c17e1779ee47141bbcf75b62da41509e5","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"f5e9a3fe63e5277be43fe9859586dc9d"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
